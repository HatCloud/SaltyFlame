import type {SceneData} from '../../interface/Scene'
import {
  CheckObjectKey,
  EffectType,
  CheckDifficulty,
  ConditionType,
} from '../../interface/enums'

export const scenes_001_020: SceneData = {
  '1': {
    id: '1',
    story:
      '太阳高悬天空，无情地释放着热量。当你来到奥斯本药店门口的汽车站时，感觉自己都要被烤熟了。你放下沉重的行李箱，摘下帽子，终于得到片刻休息。你往脸上扇了扇风。在你的家乡，夏天总是漫长；但这个夏天格外令你空虚。\n你望向街对面，街对面是肮脏的肉店，挂着褪色遮阳篷的杂货店，还有破旧的烟草店。人们路过你时，用不信任的表情盯着你看，打量着你的衣着和行李。但住在这里是你父母的主意，和你无关。当你还是个小孩时，对南下去普罗维登斯还很开心：那里有白墙小屋，还有绿树掩映的教堂。也许阿卡姆的这份新工作可以带给你你需要的改变。\n但你在这世界上认识的所有人都住在这里。你在阿卡姆一个人也不知道，一个灵魂也不认识。你最后问了自己一遍，自己的选择到底是不是正确的。\n答案已经很清楚了。你所谓的朋友没有一个人来为你送行，你现在孤身一人。无论阿卡姆有什么挑战等待着你，那都将是新的生活、光彩夺目的生活。\n一辆灰色的小长途车开了过来，嘎啷嘎啷地响着停下。你戴回帽子，提起你的行李箱。',
    options: [{type: 'goto', text: '上车，开始旅程', goto: '263'}],
  },
  '2': {
    id: '2',
    story:
      '你勇敢地抵抗，但这男人的块头和决心还是压服了你。最后他打出一记重拳，你摔倒在地，眼前顿时一片黑暗。\n过了一会儿，你朦朦胧胧地感觉到你的两腿被人抬着，后背刮蹭地面，就像被人拖着走一样。\n（译注：如果你的 HP 归零）你可以回复 1 点耐久值。现在前往 108。',
    // entryEffects removed, should be handled by the option leading to this scene or a check outcome
    options: [
      {
        type: 'goto',
        text: '继续',
        goto: '108',
        effects: [
          {
            type: EffectType.CHANGE_HP,
            value:
              '+1' /* TODO: Conditional on HP=0, special logic needed in reducer */,
          },
        ],
      },
    ],
  },
  '3': {
    id: '3',
    story:
      '一上午的辛劳让你饥肠轆轆。你漫步在烬头村的街道上寻找食物。这里根本没有你家乡常见的那种忙碌咖啡厅，也没有任何能称作饭馆的地方。\n当你开始觉得你必须要去杂货店买补给的时候，梅·莱德贝特从马路另一头走来，身后跟着个小女孩。这一定是露丝了。她一注意到你，就小跑起来，超过她妈妈，一边向你跑来一边朝你微笑。现在的露丝和昨天晚上那个害羞的小孩可完全不同。\n她跑到你身边就停下来，伸开胳膊，做了一个庆祝的手势。她仰视着你的眼睛。突然，她脸上的微笑不见了，好像一瞬间长大了几岁一样。\n“节日开始之前就走吧，”她小声嘘道。“走吧！”她用力眨眨眼，然后逃回妈妈身边去了。\n梅走过来搂住她女儿的肩膀，微笑道：“你的进展怎么样？找到交通方式了吗？”\n你吃了一惊，向她解释了现在的糟糕情形。\n“我去村会堂找过了文特斯先生。他一直是下午才在。你现在饿了吧？到我家里随便吃点东西吧。房门没有锁。”\n你瞟了露丝一眼，她现在像松鼠一样躲在她妈妈身后。她的眼神恳求你保持沉默。',
    options: [
      {type: 'goto', text: '问露丝她说的是什么意思', goto: '9'},
      {type: 'goto', text: '问梅露丝说的是什么意思', goto: '15'},
      {type: 'goto', text: '一言不发', goto: '22'},
    ],
  },
  '4': {
    id: '4',
    story:
      '过了一会儿，你听到了房子里传来脚步声。然后，随着推开门闩的声音，木门打开了。一名卷发松散，身穿粗糙便服的女人看见了你。她的眼睛注视着你的旅行衣和旅行箱。她说话的时候带着一点点爱尔兰口音。\n“你好。我能认为你是在寻找过夜的房间吗？”\n你克制自己愁苦的表情，问她要价多少。就你目前所见，这个村子并没有给你多少选择的空间。\n“哦，价格绝对公道。”她说，“一看你就累坏了。我叫梅。进来吧，我们喝杯茶慢慢聊。”\n莱德贝特的家感觉相当逼仄，天花板很低，摆设也十分简单。但屋子整理得很不错，壁炉里还有一团令人愉悦的炉火在噼啪作响。茶水的芳香柔和舒缓，杯子让你的手指也暖了起来。\n“你是来烬头村参加节日的吗？”梅问道。',
    options: [
      {type: 'goto', text: '解释西拉斯和他的长途车的事', goto: '14'},
      {type: 'goto', text: '询问有关节日的事', goto: '21'},
    ],
  },
  '5': {
    id: '5',
    story:
      '这些野兽成扇形面对你排开阵势，你的胸中升起黑暗的绝望。其中一只像箭一般冲向你，做出撕咬的动作，嘶嘶地吐着气。你提腿就踹过去。它缩回头，充满仇恨地低吼。它们围成一圈，等待着突袭的时机，浓重的麝香气充斥着的你的鼻腔......\n这些动物在你身边猛烈燃烧起来。\n它们在你的注视下像蜡烛一样烧着，红紫色的火苗舔舐着它们的皮毛，反常的烈焰销蚀一切，火、肉、油交织在一起。它们骇人的目光透过这火幕死死盯着你，它们狩猎的号子在哭嚎中扭曲成痛苦的挽歌。\n这些野兽的嚎叫萦绕在你的耳畔，你转身逃跑，在漆黑的年轻树林中摸索着。浓烟让你透不过气，你的视野模糊游移。你两脚一软——\n失去 1D3 点理智值。前往 13。',
    options: [
      {
        type: 'goto',
        text: '继续',
        goto: '13',
        effects: [{type: EffectType.CHANGE_SANITY, value: '-1D3'}],
      },
    ],
  },
  '6': {
    id: '6',
    story:
      '你漫步在烬头村的街道上，可是并没有特别想去的地方。这村子建在一片相对平坦的高地上，视野开阔，景色壮丽。向北看去，白山山脉朦胧的峰顶高耸入云；向南眺望，温尼伯索基湖粼粼的湖水天水相接。\n这个村子只需要不到五分钟就能从一头走到另一头。你来到西面的盘山路。还有一条路通向南边，再转向东，从另一侧的山脊下坡延伸出去。村子西南角有一片开阔的草地，包围着一座坍圮的教堂，它的墓地正位于悬崖的最高点。还有三条大道，朝东北方向交汇到一座刻有浮雕的黑色金属建筑物。它十分突兀，直指蓝天。\n现在你可以：',
    options: [
      {type: 'goto', text: '去本地杂货店询问交通方式', goto: '16'},
      {type: 'goto', text: '找到村会堂', goto: '84'},
      {type: 'goto', text: '沿着道路下坡，查看东盘山路', goto: '115'},
      {type: 'goto', text: '调查巨大的金属建筑物', goto: '57'},
      {type: 'goto', text: '探索教堂', goto: '34'},
      {type: 'goto', text: '寻找拥有交通工具的当地居民', goto: '96'},
    ],
  },
  '7': {
    id: '7',
    story:
      '当你来到南边通往下山处的道路时，你看见四个村民手持农具和棍棒挡住了去路。你改变方向前往西盘山路。当你在另一边村口也看见了几乎同样的光景时，你的心凉透了。你被困住了。',
    options: [
      {type: 'goto', text: '尝试靠口才通过把守村口的人群', goto: '119'},
      {type: 'goto', text: '尝试化装通过', goto: '125'},
      {type: 'goto', text: '难道......你还知道其他出村的办法吗？', goto: '???'},
    ],
  },
  '8': {
    id: '8',
    story:
      '司机叼着烟，看着你把箱子拖到长途汽车的后面去。行李架装在车顶上，十分不便。你握紧了沉重的箱子。',
    options: [
      {
        text: '（如果你的“体型”是 40）',
        type: 'goto',
        goto: '23',
        condition: {
          type: ConditionType.CHARACTERISTIC_COMPARE,
          characteristic: CheckObjectKey.SIZ, // Corrected from subObject
          comparisonValue: 40,
          comparisonOperator: 'eq',
        },
      },
      {
        text: '（如果你的“体型”高于 40）',
        type: 'goto',
        goto: '38',
        condition: {
          type: ConditionType.CHARACTERISTIC_COMPARE,
          characteristic: CheckObjectKey.SIZ, // Corrected from subObject
          comparisonValue: 40,
          comparisonOperator: 'gt',
        },
      },
    ],
  },
  '9': {
    id: '9',
    story:
      '你蹲下来问露丝她说的是什么意思。\n露丝说：“节日很可怕，又亮、又热，到处都是火！”她的脸、她的声音都很幼稚。这转变过于突然，令人不安。你怀疑小孩子都是捉摸不透的生物。\n梅眼神转了转，弄乱了女儿的头发。露丝注视着地面。',
    options: [{type: 'goto', text: '继续', goto: '22'}],
  },
  '10': {
    id: '10',
    story:
      '第一名舞者说：“你的牺牲，会让村子重生；”\n第二名舞者说：“你为了我们大家，直升云霄；”\n第三名舞者说：“我已经放松锁链，在火焰高到能藏住你之前，千万不要逃跑。”\n你瞪着第三名舞者。在漆黑的面庞下面你能清晰地辨认出露丝·莱德贝特惊恐的五官。\n她们迂回地跳着舞远去，消失在房子后面。',
    options: [{type: 'goto', text: '继续', goto: '18'}],
  },
  '11': {
    id: '11',
    story:
      '村会堂俯瞰着村子北面较低的山脊。你沿着锡尔伯里街走到它门前，一路上都在注意着道路尽头那座令人压抑的黑色金属建筑物。会堂的百叶窗打开了，还有些窗户半掩着。门上没有门环，但你推开前门时，门顶上挂着的小铃铛发出了清脆的响声。\n进屋以后，你右手边有一扇紧闭的门，上面写着“私用”。左手边则是一条通路，通往一个敞亮的房间。你几步就走了过去。许多长凳沿墙整齐排列，两扇窗户之间挂着一块布告板。',
    options: [
      {type: 'goto', text: '检查布告板', goto: '17'},
      {type: 'goto', text: '去敲紧闭的门', goto: '24'},
    ],
  },
  '12': {
    id: '12',
    story:
      '你一个滑步溜出工坊。工匠紧随其后，你将门板甩到他的脸上。他踉跄后退，用手捂住鼻子，你趁机逃跑了。只要你愿意，你还可以继续调查；但离开村庄可能更加明智。\n你可以在「闪避」技能左边的小方框里打勾。前往120。',
    options: [
      {
        type: 'goto',
        text: '继续',
        goto: '120',
        effects: [
          {
            type: EffectType.MARK_SKILL_SUCCESS,
            target: CheckObjectKey.DODGE, // Corrected from skillKey
          },
        ],
      },
    ],
  },
  '13': {
    id: '13',
    story:
      '你的脸上感受到暖意，身下还多出了床垫。你对着阳光眨眨眼睛，眼前飘进一个模糊的人影。\n“你醒啦。我是梅。梅·莱德贝特。”\n你动动身体，剧痛传遍全身。你感觉自己遍体鳞伤，脑袋也一阵阵地疼痛。你终于看清了梅。\n“你还活着真是走运。后半夜有个农夫发现你躺在路上。他给你处理了一下，用马车把你拉了回来。听说你当时在什么树林的中间？今天你就放轻松点儿吧。过一会儿我再来照看你。”\n农夫和马车当然早就不见踪影了。你又小睡了一会儿。\n你在失去意识的时候接受了急救，可以回复1点耐久值。现在前往64。',
    options: [
      {
        type: 'goto',
        text: '继续',
        goto: '64',
        effects: [{type: EffectType.CHANGE_HP, value: '+1'}],
      },
    ],
  },
  '14': {
    id: '14',
    story:
      '梅摇了摇头，你瞥见她绿色的双眼里闪过一丝积攒已久的愤怒。\n“他总是开太快，就好像那条路是他自己家的一样。几年前他撞死过一匹母马，那可是相当地可怕。你也看见那辆车成了什么模样。车上的那些毛病都够吓着你了。”\n她抿了一口茶，视线掠过你，注视着房间的角落。\n“然而，我们既然住在这里，就实在不能得罪这个人。他是我们联系外面大世界的唯一方式，而且他心眼并不坏。我觉得人在同一条路上走十五年，会变得粗心大意。你该原谅他才是。”\n梅又沉默了好一会儿。然后，她的目光再次转回你。\n“但你来这儿不是听我唠叨的，你肯定也饿了。我可以给你凑一点炖菜。你觉得如何？”\n你又问了一遍她要价多少，梅讲了个相当便宜的价钱，你毫不犹豫地接受了。这间房子虽小但舒适，炖菜熟烂又丰盛。吃过饭以后，离你平常睡觉的时间还有几个小时。',
    options: [
      {type: 'goto', text: '和梅多聊聊天', goto: '31'},
      {type: 'goto', text: '到外面转转，确认自己的方位', goto: '75'},
      {type: 'goto', text: '提前上床早睡觉', goto: '63'},
    ],
  },
  '15': {
    id: '15',
    story:
      '你问梅为什么露丝要自己离开村子。她狠狠瞪了女儿一眼。露丝注视着地面。\n梅说：“露丝不喜欢我们家里进客人。但她要明白，我们的生活并不是事事如意。有时我们必须做些不那么喜欢的事，但它们一样很重要。”\n梅对你摇摇头，向房子的方向点点头。你在她的绿色眸子间捕捉到一丝情绪。',
    options: [{type: 'goto', text: '继续', goto: '22'}],
  },
  '16': {
    id: '16',
    story:
      '杂货店坐落在大街的拐角，过了杂货店就是南边的下坡。店主是位体形硕大但动作敏捷的女人，肩膀宽阔，穿着浆硬过的围裙。她死死盯着你这陌生的面孔。\n“坐车？这里每星期会来两辆长途车。没坐上？唔唔。每隔一星期的星期二会有卡车来给我送货，但他也要下星期才来。”她耸耸肩。\n看起来烬头村很乐意和外面的世界保持距离。\n你的钱足够在这里买到一两件便宜的日常用品。在你的调查员角色卡上把它们记下来。注意现在是1927年！商店里没有武器，只有一把积满尘土的狩猎小刀，如果想要，你可以买下它。\n然后前往25。',
    options: [
      {
        type: 'goto',
        text: '购买日常用品（可能包括狩猎小刀）后继续',
        goto: '25',
      },
    ],
  },
  '17': {
    id: '17',
    story:
      '你走过房间，地板在你脚下吱嘎作响。你感觉到脚下略微有些弹力。这个房间可能是给村里的孩子们做体操房用的。\n看起来，村里的大人们使用一块布告板，孩子们用另一块布告板。大人用的板子看上去很破旧，满是手写的字体，内容则是日用品的广告，还有一张泛黄的电报价目表。板上没有和节日相关的东西。\n孩子们的布告板上则写着托儿所的每周时间安排，还有一些明显由孩子们自己画出来的图画。这些画虽然五颜六色，但内容却支离破碎。你尽力分辨，也只能分辨他们在描绘焰火，或者是《创世纪》中约瑟的故事。有一张画少了一枚图钉，倒吊在板上。上面画着一只巨鸟正在攻击烬头村。不过也有可能只是小画家还没有掌握透视的精妙之处。',
    // Removed checkOption, converted to a CheckDrivenOption below
    options: [
      {
        type: 'check',
        text: '进行「侦查」检定', // Or "仔细查看布告板"
        check: {
          details: {
            object: 'skill',
            subObject: CheckObjectKey.SPOT_HIDDEN,
            difficulty: CheckDifficulty.NORMAL,
          },
          onSuccessSceneId: '30',
          onFailureSceneId: '37',
          successText: '侦查布告板（成功）',
          failureText: '侦查布告板（失败）',
        },
      },
    ],
  },
  '18': {
    id: '18',
    story:
      '等到你抵达灯塔脚下，立刻有十个村民围了上来。他们以极其协调一致的动作夹住你的全身，抬着你走上黝黑的铁阶梯，来到高处的平台上。\n你一眼看到中央的架子，不禁颤抖不止：那早已因烈火而扭曲的撑架，现在明显牢牢拴上了铁链。\n他们将你捆到铁链上，但目光绝不和你交会。\n村民开始歌唱，那歌声节奏优美而古奥，由奇异的音节雕琢而成。另一组人扛着三具盖着红布的人体，也登上了灯塔。他们带着敬意，将扛上来的东西在你的脚边摆放成三角形。尔后他们就退下台阶，只剩下你独自和死者一起，被柴薪的海洋淹没。',
    options: [{type: 'goto', text: '继续', goto: '33'}],
  },
  '19': {
    id: '19',
    story:
      '你堵住梅的去路，坚持要知道她到底在做什么。你看见她的眼中流露出深深的恐惧。\n她说：“这什么都不是，只是些帮助你睡眠的东西。我是为了你好。你看，明天对于你是多么重要的一天......”\n你乘胜追击，要求她做出完整的解释。\n她说：“行行好，理解我一下吧。我还要照顾我女儿，我都已经没有丈夫了。”\n她扭身离开你，逃回她的房间去了。\n你可以在「恐吓」技能左边的小方框里打勾。',
    // entryEffects moved to options
    options: [
      {
        type: 'goto',
        text: '用椅子堵住门再小睡一会',
        goto: '58',
        effects: [
          {
            type: EffectType.MARK_SKILL_SUCCESS,
            target: CheckObjectKey.INTIMIDATE, // Corrected from skillKey
          },
        ],
      }, // Assuming the skill mark applies regardless of which option is chosen next from this point
      {
        type: 'goto',
        text: '彻夜不眠',
        goto: '52',
        effects: [
          {
            type: EffectType.MARK_SKILL_SUCCESS,
            target: CheckObjectKey.INTIMIDATE,
          },
        ],
      },
    ],
  },
  '20': {
    id: '20',
    story:
      '工匠抽动鼻子，想把充血的鼻腔清干净。他的意识似乎时断时续。你逼近他威胁道，除非他说出尸体的事情，否则严加拷打。\n“只是......村民，”他用刺耳的声音说道。“自然......死亡了。我们......节日要用。”\n他闭上了眼睛，头垂到一边。你可以把他关在工坊里，然后考虑下一步的目的地。',
    options: [{type: 'goto', text: '继续', goto: '120'}],
  },
}
